<!-- DonatePlus -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donation Plus</title>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Orbitron:wght@600;700;800;900&display=swap"
        rel="stylesheet" />
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="about.css">
    <link rel="stylesheet" href="chatbot.css">

</head>

<body>
    <!-- header -->
    <header class="main-header">
        <div class="header-left">
            <!-- logo -->
            <img class="header-logo" src="img/new_logo.png" alt="logo">
            <p>DonatePlus</p>
        </div>
        <div class="header-right">
            <!-- other buttons -->
            <ul class="header-btn">
                <li><a href="#">HOME</a></li>
                <li><a onclick="gotoAbout()">ABOUT</a></li>
                <li><a onclick="gotoChatBot()">HELP</a></li>
                <li><a href="admin/adminlogin.html">ADMIN</a></li>
            </ul>
        </div>
    </header>

    <!-- body -->
    <div class="main-body">
        <div class="home-content">
            <div class="home-img">
                <div class="mySlides fade">
                    <img src="img/banner-01.png" class="banner-img">
                </div>
                <div class="mySlides fade">
                    <img src="img/banner-02.png" class="banner-img">
                </div>
                <div class="mySlides fade">
                    <img src="img/banner-03.png" class="banner-img">
                </div>
            </div>

            <div class="home-btn">
                <button class="pushable" onclick="gotoDonation()">
                    <span class="front">
                        DONATE NOW
                    </span>
                </button>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <section id="about" class="about-section">
        <div class="video-container">
            <video autoplay loop muted>
                <source src="img/82077-576973625_small.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <!-- Section Title -->
        <div class="about-title-container">
            <h2 class="about-title">About Us</h2>
        </div>

        <!-- Content Container -->
        <div class="about-content-container" id="about-content-container">
            <!-- Item 1: Image on Left, Text on Right -->
            <div class="about-item">
                <div class="about-image">
                    <img src="img/young-cheerful-volunteer-working-charity-600nw-2501864583.webp" alt="about-image"
                        class="about-img">
                </div>
                <div class="about-text">
                    <h3>Welcome All<span class="highlight"></span></h3>
                    <p>
                        Our mission is to make it easy for people to donate essential items like food, clothing, and
                        technical supplies to those in need. Whether you have extra food to share, clothes you no longer
                        wear, or tech items that could help others, our platform connects generous donors with
                        organizations and individuals who can benefit.
                    </p>
                </div>
            </div>

            <!-- Item 2: Image on Right, Text on Left -->
            <div class="about-item reverse">
                <div class="about-image">
                    <img src="img/images.jpeg" alt="about-image" class="about-img">
                </div>
                <div class="about-text">
                    <h3>Join with Us & make a donation</h3>
                    <p>
                        At the Donation Club, we've worked hard to create a platform that bridges the gap between
                        generous donors and those in need. Our team has developed an easy-to-use website where anyone
                        can donate essential items like food, clothing, and technical supplies. Over time, we've
                        connected countless donations to families and organizations that benefit directly from your
                        support, making a real difference in our community.
                    </p>
                </div>
            </div>
        </div>
    </section>



    <!-- Donation Page -->
    <div class="donation-body" id="donation-body">
        <!-- form -->
        <div class="container">
            <h1>Make a Donation</h1>
            <div class="donation-part">
                <form action="donate.php" id="donation-form" method="POST">
                    <div class="left">
                        <div class="input-box">
                            <div class="input-field">
                                <i class="fas fa-user"></i>
                                <input type="text" id="name" name="name" placeholder="Enter your name" required>
                            </div>
                        </div>
                        <div class="input-box">
                            <div class="input-field">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="mail" name="mail" placeholder="Email" required>
                            </div>
                        </div>
                        <div class="input-box">
                            <div class="input-field">
                                <i class="fas fa-phone"></i>
                                <input type="number" id="phone" name="phone" placeholder="Phone Number" required>
                            </div>
                        </div>
                        <div class="select-img">
                            <div class="img-1"><img class="selection-img" id="img1" data-type="FOOD" src="img/food.jpg"
                                    alt="food"></div>
                            <div class="img-2"><img class="selection-img" id="img2" data-type="STATIONERY"
                                    src="img/stationery.jpg" alt="stationery"></div>
                            <div class="img-3"><img class="selection-img" id="img3" data-type="CLOTHES"
                                    src="img/dress.jpg" alt="clothes"></div>
                        </div>
                        <div class="input-box">
                            <div class="input-field">
                                <i class="fa fa-archive" aria-hidden="true"></i>
                                <input type="text" id="type" name="type" placeholder="Type: Select above image" readonly
                                    required>
                            </div>
                        </div>

                        <div class="input-box">
                            <div class="input-field">
                                <i class="fa fa-hourglass" aria-hidden="true"></i>
                                <input type="number" id="quantity" name="quantity" placeholder="Quantity" required>
                            </div>
                        </div>

                    </div>
                    <div class="right">
                        <div class="input-box" style="width: 400px;">
                            <div class="input-field">
                                <i class="fa fa-location-arrow" aria-hidden="true"></i>
                                <input type="text" id="address" name="address" placeholder="Enter city name" required>
                                <button id="searchButton" type="button">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div id="map" style="height: 300px; width: 75%;"></div>
                        <center>
                            <input class="submit-btn" type="submit" value="Submit">
                        </center>
                    </div>
                </form>


            </div>
        </div>
    </div>

    <!-- Help Page -->
    <div class="help-container" id="help-container">
        <div class="title">Let's Chat</div>
        <div class="chat" id="chat"></div>
        <input type="text" class="input" id="input" placeholder="Type your message...">
        <button class="button" id="button"><i class="fa-brands fa-telegram"></i></button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 DonationPlus. All rights reserved.</p>
            <div class="social-icons">
                <a href="#" class="social-icon"><i class="fa-brands fa fa-facebook"></i></a>
                <a href="#" class="social-icon"><i class="fa-brands fa fa-twitter"></i></a>
                <a href="#" class="social-icon"><i class=" fa-brands fa fa-instagram"></i></a>
            </div>
        </div>
    </footer>


    <script src="chatbot.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const images = document.querySelectorAll('.selection-img');
            const typeInput = document.querySelector('#type');

            images.forEach(image => {
                image.addEventListener('click', function () {
                    images.forEach(img => img.classList.remove('selected'));
                    this.classList.add('selected');
                    typeInput.value = this.dataset.type; // Set the type value based on selected image
                });
            });

            // Initialize map with CINEC Campus location
            const map = L.map('map').setView([6.9157, 79.9605], 15); // CINEC Campus location

            // Add OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19
            }).addTo(map);

            // Add CINEC Campus marker (Blue)
            const cinecMarker = L.marker([6.9157, 79.9605], { icon: L.icon({ iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png', iconSize: [25, 41], iconAnchor: [12, 41] }) }).addTo(map)
                .bindPopup("CINEC CAMPUS")
                .openPopup();

            const locationInput = document.querySelector('input[name="address"]');
            const searchButton = document.querySelector('#searchButton');

            // Search location when the user presses the search button
            const searchLocation = () => {
                const city = locationInput.value.trim();
                if (city) {
                    const apiUrl = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(city)}&format=json&addressdetails=1`;

                    fetch(apiUrl, {
                        headers: {
                            'User-Agent': 'DonatePlus/1.0 (your-email@example.com)', // Use your own email or app name
                            'Referer': 'https://your-site.com'
                        }
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data.length > 0) {
                                const { lat, lon } = data[0];
                                // Set map to the searched city
                                map.setView([lat, lon], 15);

                                // Remove any existing user markers before adding a new one
                                map.eachLayer((layer) => {
                                    if (layer instanceof L.Marker && layer !== cinecMarker) {
                                        map.removeLayer(layer);
                                    }
                                });

                                // Add user location marker (Red)
                                const userMarker = L.marker([lat, lon], {
                                    icon: L.icon({
                                        iconUrl: 'img/map-marker-2-32.png',
                                        iconSize: [32, 32],
                                        iconAnchor: [16, 32],
                                        popupAnchor: [0, -32]
                                    })
                                }).addTo(map)
                                    .bindPopup(city)
                                    .openPopup();

                                locationInput.value = city;  // Automatically fill the city name in the input
                            } else {
                                alert('City not found!');
                            }
                        })
                        .catch(error => {
                            console.error('Error fetching location data:', error);
                            alert('Error fetching location data');
                        });
                }
            };

            searchButton.addEventListener('click', searchLocation);

            // Handle form submission
            const form = document.querySelector('#donation-form');
            form.addEventListener('submit', (event) => {
                const addressInput = document.querySelector('input[name="address"]');
                if (!addressInput.value.trim()) {
                    event.preventDefault(); // Prevent form submission
                    alert('Please search for a valid city before submitting.');
                }
            });
        });
    </script>



</body>

</html>